package org.sump.analyzer;

import java.io.IOException;
import java.io.InputStream;
import java.util.ArrayDeque;

public class GPIOInputStream extends InputStream {

	@Override
	public int read() throws IOException {
		Byte result = null;
		result = buffer.poll();
		if (result == null) {
			throw new IOException("GPIOStream read attempted on empty buffer.");
		}
		return result;
	}
    private ArrayDeque<Byte> buffer = new ArrayDeque<Byte>();
    int byteCount = 0;
    public void privateWrite(int toWrite) {
    	for (int i = 0; i < 4; i++) {
		  buffer.add((byte)(toWrite & 0xff));
		  toWrite = toWrite >> 8;
    	}
	}

}
